<!DOCTYPE html><html><head><title>Fixing metadata.wsdl | Jeff Hube</title><meta name=viewport content="width=device-width"><link rel=alternate type=application/rss+xml title="Jeff Hube &raquo; Feed" href=/blog/feed.xml><link rel=icon type=image/x-icon href=/favicon.ico><link rel=stylesheet href=/stylesheets/style.css?1499403666><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300" rel=stylesheet type=text/css></head><body><div class=rows><div class=row><div class=header><div class=container><label for=hamburger class=hamburger-label></label> <a class=title href=/ >Jeff Hube</a><form class=search-form onsubmit="return doSearch()"><input id=search-input class=search-input placeholder=Search></form><script type=text/javascript>function doSearch(e){var n=document.getElementById("search-input").value.trim();return n&&(window.location="/search?q="+encodeURIComponent(n)),!1}</script></div></div><input type=checkbox id=hamburger class=hamburger-input checked><div class=nav><div class="container container-collapse"><a href=/games/ >Games</a><a href=/demos/ >Demos</a><a href=/resume/ >Resume</a><a href=/ class=active>Blog</a></div></div></div><div class="row row-expand"><div class=content><div class="container clearfix"><div class=columns><div class=column-right><div><h1>Fixing metadata.wsdl</h1><span class=post-date>July 05, 2016</span><p>If you use the <a href=https://github.com/forcedotcom/wsc>Force.com Web Service Connector</a> to call Salesforce&#39;s metadata API, you may receive an error like the following when attempting to describe an sObject containing a geolocation field:</p><pre><code>unable to find end tag at: START_TAG seen ...&lt;/fullName&gt;&lt;displayLocationInDecimal&gt;...
</code></pre><p>This is caused by metadata.wsdl containing an incomplete description of the metadata API. Specifically, it is missing the <code>Location</code> value for <code>FieldType</code>, and the <code>displayLocationInDecimal</code> field on <code>CustomField</code>. Luckily, this is easy to fix.</p><h3 id=1-add-the-following-line-to-fieldtype->1. Add the following line to FieldType:</h3><pre><code class="hljs xml"><span class=hljs-tag>&lt;<span class=hljs-name>xsd:enumeration</span> <span class=hljs-attr>value</span>=<span class=hljs-string>"Location"</span>/&gt;</span></code></pre><h3 id=2-add-the-following-line-to-customfield-under-displayformat->2. Add the following line to CustomField, under displayFormat:</h3><pre><code class="hljs xml"><span class=hljs-tag>&lt;<span class=hljs-name>xsd:element</span> <span class=hljs-attr>name</span>=<span class=hljs-string>"displayLocationInDecimal"</span> <span class=hljs-attr>minOccurs</span>=<span class=hljs-string>"0"</span> <span class=hljs-attr>type</span>=<span class=hljs-string>"xsd:boolean"</span>/&gt;</span></code></pre><p>Then just run the corrected metadata.wsdl back through WSC to generate a new JAR, and you should be good to go!</p><p>Cheers,</p><p>Jeff</p><div class=tags><a class=tag href=/blog/tags/salesforce/ >Salesforce</a></div><div class=next-prev><span class=next-prev-secondary>Previous Post</span> <a href=/blog/2016/05/salesforce-globals-and-breaking-changes-part-2/ >Salesforce: Globals and Breaking Changes, Part 2</a></div><div class=next-prev><span class=next-prev-secondary>Next Post</span> <a href=/blog/2017/07/keeping-water-out-of-a-boat/ >Keeping Water Out of a Boat</a></div><div id=disqus_thread></div><script type=text/javascript>var disqus_config=function(){this.page.identifier="/blog/2016/07/fixing-metadata-wsdl/",this.page.title="Fixing metadata.wsdl",this.page.url="https://www.jeffhube.com"+location.pathname};!function(){var t=document,e=t.createElement("script");e.src="//jeffhube.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script></div></div><div class=column-left><h3>Recent Posts</h3><div class=recent-post><a href=/blog/2017/07/keeping-water-out-of-a-boat/ >Keeping Water Out of a Boat</a> <span class=recent-post-date>July 07, 2017</span></div><div class=recent-post><a href=/blog/2016/07/fixing-metadata-wsdl/ >Fixing metadata.wsdl</a> <span class=recent-post-date>July 05, 2016</span></div><div class=recent-post><a href=/blog/2016/05/salesforce-globals-and-breaking-changes-part-2/ >Salesforce: Globals and Breaking Changes, Part 2</a> <span class=recent-post-date>May 10, 2016</span></div><div class=recent-post><a href=/blog/2016/04/salesforce-globals-and-breaking-changes-part-1/ >Salesforce: Globals and Breaking Changes, Part 1</a> <span class=recent-post-date>April 27, 2016</span></div><div class=recent-post><a href=/blog/2016/04/welcome/ >Welcome!</a> <span class=recent-post-date>April 25, 2016</span></div><h3>Tags</h3><div class=popular-tag><a href=/blog/tags/salesforce/ >Salesforce</a> <span class=tag-count>(3)</span></div><div class=popular-tag><a href=/blog/tags/unity3d/ >Unity3D</a> <span class=tag-count>(1)</span></div><div class=popular-tag><a href=/blog/tags/welcome/ >Welcome</a> <span class=tag-count>(1)</span></div></div></div></div></div></div><div class=row><div class=footer><div class=container><div class=social><a href=http://www.youtube.com/user/jrh2365/videos><img src=/images/social/32_youtube.png width=32 height=32 alt=YouTube></a><a href=http://www.linkedin.com/in/jeffhube><img src=/images/social/32_linkedin.png width=32 height=32 alt=LinkedIn></a></div><div class=copyright>Copyright &copy; Jeff Hube 2016</div></div></div></div></div><script>!function(e,a,t,n,g,c,o){e.GoogleAnalyticsObject=g,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),o=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(c,o)}(window,document,"script",0,"ga"),ga("create","UA-20753646-2","auto"),ga("send","pageview")</script></body></html>